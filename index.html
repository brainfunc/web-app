<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style/stylesheets/reusable/reusable.css">
    <link rel="stylesheet" href="/style/stylesheets/section-base.css" />
    <link rel="stylesheet" href="/style/stylesheets/section-type-one.css" />
    <link rel="stylesheet" href="/style/stylesheets/section-type-two.css" />
    <link rel="stylesheet" href="/style/stylesheets/section-type-zero.css" />
    <link rel="stylesheet" href="/style/stylesheets/section-type-locked.css" />
    <link rel="stylesheet" href="/style/stylesheets/header.css" />
    <link rel="stylesheet" href="/style/stylesheets/footer.css" />
    <link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/48938155eb24b4ccdde09426066869504c6dab3c/dist/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/style/stylesheets/style.css" />
    <title> BrainFunc | Construct the ultimate brain!</title>

    <script src="/src/libs/web3/web3.min.js"></script>
    <script>
      var cryptoZombies;
      var userAccount;

      function getWeb3(callback) {
        if (typeof window.web3 === 'undefined') {
          // no web3, use fallback
          console.error("Please install metamask.");
        } else {
          // window.web3 == web3 most of the time. Don't override the provided,
          // web3, just wrap it in your Web3.
          var myWeb3 = new Web3(window.web3.currentProvider);

          // the default account doesn't seem to be persisted, copy it to our
          // new instance
          myWeb3.eth.defaultAccount = window.web3.eth.defaultAccount;
          // Checking if metamask is unlocked
          if(!myWeb3.eth.defaultAccount) {
            console.log("Please unlock metamask");
            return;
          }

          // Checking if metamask is on Ropsten Test Network
          web3.version.getNetwork((err, netId) => {
            switch (netId) {
              case "1":
                console.log("Please make sure you're on the ropsten test network");
                console.log('This is mainnet');
                break
              case "2":
                console.log("Please make sure you're on the ropsten test network");
                console.log('This is the deprecated Morden test network.');
                break
              case "3":
                console.log('This is the ropsten test network.');
                callback(myWeb3);
                break
              default:
                console.log("Please make sure you're on the ropsten test network");
                console.log('This is an unknown network.');
            }
          })

        }
      }

      function startApp(web3) {
        console.log("App started!");
      }

      window.addEventListener('load', function() {
        getWeb3(startApp);
      });

    </script>
  </head>
  <body>
    <div class="app__container"></div>
  </body>
  <script src="/bundle.js"></script>
</html>
